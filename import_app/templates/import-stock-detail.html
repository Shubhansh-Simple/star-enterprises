<!-- import_app/templates/import-stock-detail.html -- -->

<!-- BASE TEMPLATE -->
{% extends 'base-template.html' %}

<!-- PAGE TITLE -->
{% block title %}
  Import Stock Detail
{% endblock %}

{% block body_lower %}

  <!-----INCLUDE TABLE-HEADING TEMPLATE------->
  {% with bg_color="dark" text_color="success" table_heading=entry_date %}
    {% include 'utils/table-heading.html' %}
  {% endwith %}

  <!--IMPORT RECORDS EXIST-->
  {% if import_stock_detail %}

    <br>
    <div class="table-responsive"> 

      <table class="table table-striped table-borderless">

        <!-- TABLE COLUMN HEADING -->
        <tr class="bg-dark text-white">
          <th class="text-center text-secondary">S.NO</th>
          <th class="text-center text-secondary">Item Name</th>
          <th class="text-center text-secondary">Import Quantity</th>
          <th class="text-center text-secondary">Import By</th>
        </tr>

        <!-- SHOW ALL IMPORTED STOCK AS PER DATE -->
        {% for import_stock in import_stock_detail %}
          <tr>
            <td class="text-center">{{forloop.counter}}.</td>
            <td class="text-center">{{import_stock.items.name}}</td>
            <td class="text-center">{{import_stock.import_quantity}}</td>
            <td class="text-center"><i>{{import_stock.import_by.username|title}}</i></td>
          </tr>  
        {% endfor %}

      </table>
    </div>

    <!-- TOTAL BOXES IN CURRENT STOCK -->
    <br>
    <p class="bg-dark py-2" colspan="4"><b><mark>Total Import Quantity - {{total_import_quantity}} Boxes</mark></b></p>

  <!--IMPORT RECORDS DOES NOT EXIST-->
  {% else %}

    <!-----INCLUDE NOT FOUND MSG TEMPLATE------->
    {% with not_found_msg="No Import Entries Found" %}
      {% include 'utils/item-not-found.html' %}
    {% endwith %}

  {% endif %}

  <br>
  <a class="btn btn-primary" href="{% url 'import_list' %}">Back</a>
  <a class="btn btn-success" href="#">Add Stock</a>
{% endblock %}


